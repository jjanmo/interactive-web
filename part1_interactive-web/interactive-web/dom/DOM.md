# DOMì´ë€

> `Document Object Model` **ë¬¸ì„œ ê°ì²´ ëª¨ë¸** ì´ë¼ê³  í•œë‹¤

> HTMLíŒŒì¼ì„ ê°ì²´í™”ì‹œí‚¨ `DOM TREE`ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê·¸ ê°ì²´ë“¤ì— ì ‘ê·¼í•˜ì—¬ ì›¹í˜ì´ì§€(ë¬¸ì„œ)ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë“¤ì„ ì œê³µí•˜ëŠ” `API`

## ê¶ê¸ˆì 1 : APIê°€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

> `Application Programming Interface`ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡, ìš´ì˜ ì²´ì œë‚˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì œì–´í•  ìˆ˜ ìˆê²Œ ë§Œë“  `Interface(ì¸í„°í˜ì´ìŠ¤)`ë¥¼ ëœ»í•œë‹¤.([ìœ„í‚¤](https://ko.wikipedia.org/wiki/API)) ì´ë ‡ê²Œ ì„¤ëª…ì„ ë“¤ìœ¼ë©´ ì‚¬ì‹¤ ì •í™•íˆ ì´í•´í•˜ê¸° ì‰½ì§€ ì•Šì„ ê²ƒì´ë‹¤. ğŸ˜­

## ê¶ê¸ˆì 2 : InterfaceëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?

> ì¼ë°˜ì ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë€ ì„œë¡œ ê´€ë ¨ì—†ëŠ” ê²ƒì„ `ì—°ê²°í•´ì£¼ëŠ” ì‹œìŠ¤í…œ` í˜¹ì€ ì¥ì¹˜ê°™ì€ ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ë‚´ê°€ í…”ë ˆë¹„ì „ì„ ë³´ê¸° ìœ„í•´ì„  ë¦¬ëª¨ì½˜ì´ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ë¦¬ëª¨ì½˜ì„ ì‚¬ìš©í•˜ì—¬ í…”ë ˆë¹„ì „ì´ë¼ëŠ” ì¥ì¹˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤. **ì´ ë•ŒëŠ” ë¦¬ëª¨ì½˜ì´ ì¸í„°í˜ì´ìŠ¤ê°€ ëœë‹¤.** ë˜ ë‹¤ë¥¸ ì˜ˆëŠ” ìš°ë¦¬ëŠ” ì‚¬ëŒë“¤ê³¼ ëŒ€í™”ë¥¼ í•˜ê³  ì‚´ì•„ê°„ë‹¤. ëŒ€í™”ë¥¼ í•˜ê¸° ìœ„í•´ì„  í•œê¸€ì´ë¼ëŠ” ì–¸ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ì„œë¡œ ê°„ì— ëŒ€í™”ë¥¼ í•œë‹¤. **ì´ ë•ŒëŠ” í•œê¸€ì´ ì¸í„°í˜ì´ìŠ¤ê°€ ëœë‹¤.**

<br />

### ìš”ì•½í•˜ë©´, `API`ë€ `í”„ë¡œê·¸ë¨ê³¼ í”„ë¡œê·¸ë¨ ì‚¬ì´ë¥¼ ì—°ê²°í•´ ì£¼ëŠ” ì‹œìŠ¤í…œ`ì´ë¼ê³  ìƒê°í•˜ë©´ ê°€ì¥ ì´í•´í•˜ê¸° ì‰¬ìš¸ ê²ƒ ê°™ë‹¤. ì—¬ê¸°ì„œ `í”„ë¡œê·¸ë¨`ì´ë¼ê³  í•¨ì€ ì•½ê°„ ê´‘ë²”ìœ„í•˜ê²Œ ìƒê°í•  ìˆ˜ ìˆë‹¤.

<br />

## ë‹¤ì‹œ ì„¤ëª…ì„ í•´ë³´ì£ ğŸ’¥

> `ê°œë°œìì™€ ì›¹í˜ì´ì§€ ê°„ì˜ ìƒí˜¸ì‘ìš©(ì—°ê²°)`ì„ í•˜ê¸° ìœ„í•´ì„  ë¬´ì—‡ì¸ê°€ê°€ í•„ìš”í•˜ë‹¤. HTMLíŒŒì¼ì´ ë¸Œë¼ìš°ì €ì˜ `íŠ¹ë³„í•œ ê³¼ì •`ì„ í†µí•´ì„œ `DOM`ì´ ë§Œë“¤ì–´ì§€ê³  ê·¸ DOM ì•ˆì—ëŠ” ê°œë°œìë“¤ì´ ì ‘ê·¼í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `ì†ì„±, ë©”ì†Œë“œë“¤`ì´ ì¡´ì¬í•œë‹¤. ê·¸ê²ƒì„ ì´ìš©í•´ì„œ ì›¹í˜ì´ì§€ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì¦‰ DOMì´ë€ ê°œë°œìë“¤ì´ ì›¹í˜ì´ì§€ë¥¼ ì¡°ì‘í•˜ëŠ”ë° í•„ìš”í•œ ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ë“¤ì´ ë“¤ì–´ìˆëŠ” ì§‘í•©ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

> íŠ¹ë³„í•œ ê³¼ì •ì„ í†µí•´ì„œ `HTMLíŒŒì¼`ì´ <u>ì¢€ ë” ê³„ì¸µì ì´ê³  êµ¬ì¡°ì ì¸ ëª¨ìŠµìœ¼ë¡œ ë³€í˜•ëœ ê²ƒ</u>ì„ `DOM` ì´ë¼ê³  í•œë‹¤. ì´ DOMì„ í†µí•œ ì¡°ì‘ìœ¼ë¡œ ìµœì¢…ì ìœ¼ë¡œ ë³´ì—¬ì§€ëŠ” ê²ƒì— ì‚¬ì‹¤ì€ ìš°ë¦¬ê°€ ë§ˆì£¼í•˜ê³  ìˆëŠ” `ì›¹í˜ì´ì§€`ê°€ ëœë‹¤. _ì—¬ê¸°ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ì—„ë°€í•˜ê²Œ ì›¹í˜ì´ì§€ì™€ HTMLíŒŒì¼ì€ ë‹¤ë¥¸ ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤_.

> > ìœ„ì˜ APIì˜ ì„¤ëª…ê³¼ ë¹„êµí•´ë³´ë©´ ì—¬ê¸°ì„œëŠ” ê°œë°œìì™€ ì›¹í˜ì´ì§€ ê°„ì˜ ì—°ê²°ì´ë‹¤. ê·¸ëŸ°ë° ê°œë°œìëŠ” í”„ë¡œê·¸ë¨ì¸ê°€? ë¼ëŠ” ì˜ë¬¸ì´ ìƒê¸´ë‹¤. ì‚¬ì‹¤ ì—¬ê¸°ì„œ ê°œë°œìëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ëœ»í•œë‹¤. ì‰½ê²Œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì£¼ì²´ë¥¼ í‘œí˜„í•œ ê²ƒì´ë‹¤. ì¦‰ `í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì›¹í˜ì´ì§€ì— ì–´ë–»ê²Œ ì ‘ê·¼í• ì§€ì— ëŒ€í•œ ê²ƒ`ì´ë¼ê³  ë³´ëŠ” ê²ƒì´ ì •í™•í•œ í‘œí˜„ì¸ ê²ƒ ê°™ë‹¤

![flow](flow.png)

## How to make DOM

> DOMì´ ë§Œë“¤ì–´ ì§€ëŠ” ê³¼ì •

```HTML
 <!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="style.css" rel="stylesheet">
    <title>Critical Path</title>
  </head>
  <body>
    <p>Hello <span>web performance</span> students!</p>
    <div><img src="awesome-photo.jpg"></div>
  </body>
</html>
```

![process](./DOM_process.PNG)

> ìœ„ì˜ HTML ì†ŒìŠ¤ê°€ DOMìœ¼ë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì¤€ë‹¤.

> `ë°”ì´íŠ¸ -> ë¬¸ì -> í† í° -> ë…¸ë“œ -> ê°ì²´ëª¨ë¸` ì˜ ê³¼ì •ì„ í†µí•´ì„œ ë³€í™˜ë˜ì–´ì§„ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì°¸ê³ ](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/constructing-the-object-model?hl=ko)ë¥¼ í´ë¦­ ğŸš€

> > ì´ ê³¼ì •ì— ëŒ€í•´ì„œëŠ” ì¶”í›„ì— ê¹Šì´ìˆê²Œ ê³µë¶€í•  ê¸°íšŒê°€ ìˆì„ê±°ë¼ê³  ìƒê°í•œë‹¤. ìš°ì„ ì€ `DOM`ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ë¥¼ ëª©í‘œë¡œ í•œë‹¤.

> ë§ˆì§€ë§‰ì— DOM ì´ë¼ê³  ì í˜€ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ë³´ë©´ ê°ê°ì˜ íƒœê·¸ë“¤ì´ ì í˜€ìˆë‹¤. ê·¸ íƒœê·¸ë“¤ì´ ê°ê° ë‹¤ `ë…¸ë“œ`ì— ì†í•œë‹¤. ê·¸ë¦¬ê³  ëª¨ë‘ ê°ì²´ì´ë‹¤. ì´ë ‡ê²Œ íƒœê·¸ë“¤ì˜ ìƒí•˜ê´€ê³„(ë¶€ëª¨, ìì‹, í˜•ì œ)ë¥¼ ì§ê´€ì ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì„ `DOM TREE` í•œë‹¤.

> > ë…¸ë“œëŠ” `ê³„ì¸µì  ë‹¨ìœ„`ë¡œì„œ ê° ê³„ì¸µë§ˆë‹¤ ì—°ê²°ë˜ì–´ì§ˆ ë•Œ ê¼­ì§€ì (?)ì— í•´ë‹¹í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ê° ë…¸ë“œë§ˆë‹¤ í•´ë‹¹í•˜ëŠ” ê°ì²´ì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.

> DOMì€ ì—¬ê¸°ì„œ ë³´ì´ëŠ” ê°ê°ì˜ ê°ì²´ì— `ì ‘ê·¼`í•˜ì—¬ `ì¡°ì‘`í•  ìˆ˜ ìˆëŠ” `ë°©ë²•`ì„ ì œê³µí•œë‹¤.

<br />

# DOMì„ ì¡°ì‘í•˜ëŠ” ë°©ë²•

> ìì£¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë“¤ë§Œ ì •ë¦¬

> ë§ì€ ë‚´ìš©ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í•„ìš”í•  ë•Œë§ˆë‹¤ `MDN`ì—ì„œ ì°¾ì•„ ë³´ëŠ” ê²ƒì„ ì¶”ì²œ ğŸš€

> ì•„ë˜ì˜ ì½”ë“œë¥¼ ì˜ˆì‹œë¡œ í•˜ì—¬ ê·¸ ë°‘ì— ê°ê°ì˜ ì†ì„±ê³¼ ë©”ì†Œë“œì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ì˜€ë‹¤.

![preview](./preview.gif)

```HTML
    <div class="container">
        <div class="item a"></div>
        <div class="item b"></div>
        <div class="item c"></div>
    </div>
```

```CSS
    .container {
        width: 500px;
        background-color: #eee;
        border: 2px solid black;
    }
    .item {
        width: 100px;
        height: 100px;
        margin: 5px;
        background-color: aqua;
    }
    .powderblue {
        background-color: powderblue;
    }
    .dashed {
        border: 3px dashed #243ed1;
    }
    .new {
        width: 200px;
        height: 200px;
        background-color: purple;
    }

```

```JavaScript
    const $container = document.querySelector('.container');
    console.log($container); //<div class="container"> ... </div>

    const $items = document.querySelectorAll('.item');
    console.log($items); //nodelist[3] ...

    const $item2 = document.querySelector('.item:nth-child(2)');
    console.log($item2); //<div class="item b"></div>
    $item2.setAttribute('data-index', 2);
    console.log($item2); //<div class="item b" data-index="2"></div>

    // $container.className = 'powderblue';
    // console.log($container); //<div class="powderblue">...</div>

    $container.classList.add('powderblue');
    console.log($container); // <div class="container powderblue">...</div>

    const $newItem = document.createElement('div');
    $newItem.classList.add('new');
    $container.appendChild($newItem);
```

## Access

-   document.querySelecotor('ì„ íƒì')

    > ì„ íƒë˜ì–´ì§„ 1ê°œì˜ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´ë¥¼ ë°˜í™˜

    > > ì—¬ê¸°ì„œ ì—˜ë¦¬ë¨¼íŠ¸ë€ ì‰½ê²Œ ë§í•˜ë©´ HTML íƒœê·¸ë§í•˜ê³  ê·¸ HTML íƒœê·¸ë¥¼ ì‚¬ì‹¤ DOM TREEì•ˆì˜ ë…¸ë“œì˜ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë§í•œë‹¤. ì¦‰ `íƒœê·¸ì— ëŒ€í•œ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´`ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤. `ê°ì²´`ë¼ëŠ” ì‚¬ì‹¤ì´ ì¤‘ìš”í•˜ë‹¤.

-   document.querySelectorAll('ì„ íƒì')

    > ê°™ì€ ì„ íƒìë¥¼ ê°€ì§„ ì—¬ëŸ¬ ê°œì˜ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´ ë°°ì—´ì„ ë°˜í™˜

    > ì •í™•í•˜ê²Œ `Nodelist`ë¥¼ ë°˜í™˜í•œë‹¤. NodelistëŠ” ë°°ì—´ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë°°ì—´ê´€ë ¨ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. í•˜ì§€ë§Œ lengthì™€ ê°ê°ì˜ indexê°€ ì¡´ì¬í•˜ê¸°ë•Œë¬¸ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

-   ì´ì™¸ì—ì„œ getElementById, getElemnetsByTagName ë“±ë“±ì´ ì¡´ì¬í•˜ì§€ë§Œ ìœ„ì˜ ë‘ê°€ì§€ê°€ ê°€ì¥ í¸í•˜ê³  ìµœê·¼ì— ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì´ë‹¤. CSS ì„ íƒìë¥¼ ì´ìš©í•˜ê¸°ë•Œë¬¸ì— ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì–´ë– í•œ ì—˜ë¦¬ë¨¼íŠ¸ì—ë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤

## Modify

> ê°€ì ¸ì˜¨ ê°ê°ì˜ ì—˜ë¦¬ë¨¼íŠ¸ë“¤ì˜ ì†ì„±ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

-   element.setAttrubute('data-index', 1)

    > ì£¼ì–´ì§„ ì—˜ë¦¬ë¨¼íŠ¸ì— ì†ì„±ì„ ì¶”ê°€ data-indexë¼ëŠ” ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ data ì†ì„±ì€ ì—˜ë¦¬ë¨¼íŠ¸ì˜ í‘œì¤€ì´ ì•„ë‹Œ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œì„œ ì•Œê³  ìˆìœ¼ë©´ ë§¤ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. [[ì°¸ê³  dataì†ì„±](https://developer.mozilla.org/ko/docs/Learn/HTML/Howto/%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%86%8D%EC%84%B1_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0)]

    > ë°˜ëŒ€ë¡œ `element.getAttribute('ì†ì„±ì´ë¦„')`ì„ ë„£ìœ¼ë©´ ì›í•˜ëŠ” `ì†ì„±ê°’`ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

-   element.className = 'í´ë˜ìŠ¤ì´ë¦„'

    > í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ì˜ í´ë˜ìŠ¤ ì´ë¦„ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ë‹¨, í´ë˜ìŠ¤ ì´ë¦„ì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ ì „ì²´ê°€ ë‹¤ ìˆ˜ì •ëœë‹¤.

-   element.classList.add('í´ë˜ìŠ¤ ì´ë¦„')

    > í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ì— í´ë˜ìŠ¤ ì´ë¦„ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. classList ì†ì„±ì—ëŠ” ì´ ì™¸ì—ë„ remove() / toggle() ë“±ì´ ì¡´ì¬í•œë‹¤. í´ë˜ìŠ¤ëŠ” DOM ì¡°ì‘ì„ ìœ„í•´ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì†ì„±ì´ê¸° ë•Œë¬¸ì— (ğŸ’¥íŠ¹íˆ CSSì™€ ê´€ë ¨ì§€ì–´ì„œ) ì•Œì•„ë‘ë©´ ë§¤ìš° ìœ ìš©í•œë‹¤. [[ì°¸ê³ ](https://developer.mozilla.org/ko/docs/Web/API/Element/classList)]

-   ì´ ì™¸ì—ë„ ë‹¤ì–‘í•œ ì†ì„±ë“¤ì´ ì¡´ì¬í•˜ê³  ê·¸ ì†ì„±ë“¤ ì•ˆì— ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ ì¡°ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.

## Create

> ì—˜ë¦¬ë¨¼íŠ¸ ìƒì„±

-   document.createElement('tagì´ë¦„')

    > tagë¥¼ ìƒì„±í•œë‹¤. ë°˜í™˜ê°’ì€ ìƒì„±ëœ (íƒœê·¸) `ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´`ì´ë‹¤.

-   parentElement.appendChild(element)

    > ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•œë‹¤ê³  í•´ì„œ ê·¸ DOM TREE ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. ë°˜ë“œì‹œ ê·¸ ì•ˆìœ¼ë¡œ ì¶”ê°€ë¥¼ í•´ì¤˜ì•¼ë§Œ ê·¸ ì•ˆì— ì¡´ì¬í•˜ê²Œ ëœë‹¤. ì›í•˜ëŠ” parentElementë¥¼ ì„ íƒí•´ì„œ ê·¸ ì•ˆì˜ ìì‹ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ìƒˆë¡œ ìƒì„ ëœ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

    > ìœ„ì˜ ë©”ì†Œë“œë¥¼ ìì‹ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ 1ê°œë§Œ ì¶”ê°€ê°€ ê°€ëŠ¥í•˜ë‹¤. `append(element1, element2 ...)`ëŠ” ìì‹ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ì—¬ëŸ¬ ê°œë¥¼ ìƒˆë¡œìš´ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

# Ref

-   [DOM MDN](https://developer.mozilla.org/ko/docs/Web/API/Document_Object_Model/%EC%86%8C%EA%B0%9C)

-   [ê°ì²´ ëª¨ë¸ ìƒì„±](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/constructing-the-object-model?hl=ko)
